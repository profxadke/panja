<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P4nj.A!</title>
    <!-- MDB5 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css" rel="stylesheet">
    <!-- HTMX JS -->
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <!-- Alpine.js -->
    <script src="https://unpkg.com/alpinejs@3.12.0" defer></script>
    <!-- Custom CSS -->
    <link href="style.css" rel="stylesheet">
    <!-- Other CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/atom-one-dark.min.css" integrity="sha512-Jk4AqjWsdSzSWCSuQTfYRIF84Rq/eV0G2+tu07byYwHcbTGfdmLrHjUSwvzp5HvbiqK4ibmNwdcG49Y5RGYPTg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
</head>

<body x-data="messageApp()">

    <div class="app-container">

        <div class="sidebar">
            <h2>Chats</h2>
            <a class="btn-info" href="#" @click.prevent="alert('new convo code here.')">New conversation</a> <br />
            <template class="conversation" x-for="conversation in conversations" :key="conversation.id">
                <ul>
                    <a href="#" @click.prevent="switchConversation(conversation.id)" :class="{'active': chat_id === conversation.id}" x-text="conversation.name"></a>
                    <br />
                </ul>
            </template>
        </div>

        <div class="messages-container">
            <div class="messages-header">
            âœ¨ P4nj.A! - Powered by Google AI
            </div>
            <div class="messages-body" id="messages-body" x-init="fetchMessages()">
                <!-- Messages will be loaded here dynamically -->
            </div>
            <div class="messages-footer">
                <textarea type="text" id="message-input" class="message-input" placeholder="Type a message..." x-model="newMessage"></textarea>
                <button class="send-btn" @click="sendMessage()">Send</button>
            </div>
        </div>

    </div>

    <!-- MDB5 and Other JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/14.0.0/marked.min.js" integrity="sha512-EnAXYDyFPJkTNa50ueQCSHjQGVOp8I9MiRrb3WMeY7x9IO+qdOElSRNvH35Sfk6+0uS4HV954WbpVDKAxjJPiA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js" integrity="sha512-6yoqbrcLAHDWAdQmiRlHG4+m0g/CT/V9AGyxabG8j7Jk8j3r3K6due7oqpiRMZqcYe9WM2gPcaNNxnl2ux+3tA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked-highlight/2.1.4/index.umd.min.js" integrity="sha512-YHfFtx3BUUQ3Wk+kbZoqPDIxrgW0axUMM1KjVhsaeiQV36WJP1QP7np+tqTPIOU+6ev5BTGWR2IwcMjcPGuD+w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.1.5/purify.min.js" integrity="sha512-JatFEe90fJU2nrgf27fUz2hWRvdYrSlTEV8esFuqCtfiqWN8phkS1fUl/xCfYyrLDQcNf3YyS0V9hG7U4RHNmQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
</body>

</html>
